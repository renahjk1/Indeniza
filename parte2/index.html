<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sala de Espera - gov.br</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap");

      body {
        font-family: "Inter", sans-serif;
      }
    </style>
    <script
      src="js/latest.js"
      data-utmify-prevent-subids=""
      async=""
      defer=""
    ></script>
    <script>
      window.pixelId = "67cfd03cf4494117409bcf9e";
      var a = document.createElement("script");
      a.setAttribute("async", "");
      a.setAttribute("defer", "");
      a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel.js");
      document.head.appendChild(a);
    </script>
  </head>

  <body
    class="bg-blue-900 flex flex-col items-center min-h-screen justify-center p-6"
  >
    <div
      class="bg-white rounded-3xl shadow-lg w-full max-w-[600px] p-8 text-center"
    >
      <div class="mb-6">
        <img
          alt="gov.br"
          loading="lazy"
          style="width: 60%"
          decoding="async"
          class="mx-auto"
          src="images/2560px-Gov.br_logo.svg.png"
        />
      </div>

      <h1 class="text-xl font-bold text-[#1351B4] mb-5">
        Sua vez está chegando
      </h1>
      <p class="text-[#606060] text-sm mb-7 max-w-2xl mx-auto leading-relaxed">
        Você está numa sala de espera virtual e vamos liberar o seu acesso para
        realizar sua consulta, aguarde.
      </p>

      <div class="flex justify-center">
        <div
          class="relative w-[330px] h-[330px] flex items-center justify-center"
        >
          <svg class="absolute w-full h-full" viewBox="0 0 100 100">
            <circle
              class="text-gray-300"
              stroke="#E5F0FF"
              stroke-width="4"
              fill="none"
              cx="50"
              cy="50"
              r="48"
            ></circle>
            <circle
              id="progress-circle"
              class="text-blue-600"
              stroke="#1351B4"
              stroke-width="4"
              fill="none"
              cx="50"
              cy="50"
              r="48"
              stroke-dasharray="301.593"
              stroke-dashoffset="301.593"
              stroke-linecap="round"
              transform="rotate(-90 50 50)"
            ></circle>
          </svg>
          <div class="absolute flex flex-col items-center text-center">
            <div
              class="text-[#1351B4] font-sans font-bold text-sm mb-2 leading-tight"
            >
              Você poderá iniciar a<br />consulta em
            </div>
            <div
              id="countdown"
              class="text-[#1351B4] text-[64px] font-bold leading-none mt-4"
            >
              0:10
            </div>
            <p class="text-[#606060] text-sm mt-4">
              Aguarde até o círculo azul <br />
              se formar por completo.
            </p>
          </div>
        </div>
      </div>

      <div class="mt-10 text-center">
        <a
          class="text-[#1351B4] hover:text-[#1351B4]/90 text-lg hover:underline flex items-center justify-center gap-3"
          href="#"
        >
          <span class="text-[#1351B4] font-medium text-xs"
            >Está com dúvidas e precisa de ajuda?</span
          >
        </a>
      </div>
    </div>

    <script>
      let countdownTime = 10;
      const countdownElement = document.getElementById("countdown");
      const progressCircle = document.getElementById("progress-circle");
      const totalCircleLength = 301.593;
      const urlParams = window.location.search;

      progressCircle.style.transition = "stroke-dashoffset 1s linear";

      function updateCountdown() {
        if (countdownTime >= 0) {
          countdownElement.textContent = `0:${
            countdownTime < 10 ? "0" : ""
          }${countdownTime}`;

          let progress = (1 - countdownTime / 10) * totalCircleLength;
          progressCircle.style.strokeDashoffset = totalCircleLength - progress;

          countdownTime--;

          if (countdownTime >= 0) {
            setTimeout(updateCountdown, 1000);
          } else {
            window.location.href = "etapa1" + urlParams;
          }
        }
      }

      updateCountdown();
    </script>

    <style>
      #progress-circle {
        transition: stroke-dashoffset 1s linear;
      }
    </style>
  </body>
</html>
